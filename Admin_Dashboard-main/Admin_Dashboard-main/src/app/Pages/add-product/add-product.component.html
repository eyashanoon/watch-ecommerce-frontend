<!-- Add / Edit Product Form -->
<div class="add-watch-card">
<h3 class="form-title">
  <span *ngIf="mode === 'add'" class="plus-icon">‚ûï</span>
  <span *ngIf="mode !== 'add'" class="edit-icon">‚úèÔ∏è</span>
  {{ mode === 'add' ? 'Add a New Watch' : 'Edit Watch' }}
</h3>



  <form (ngSubmit)="onSubmit()" #watchForm="ngForm" class="add-form">
    <!-- Basic Info -->
    <h4 class="section-heading">üìù Basic Info</h4>

    <div class="field-with-title horizontal">
      <label class="field-title" for="name">Watch Name</label>
      <input id="name" type="text"   maxlength="15"
 placeholder="Watch Name" [(ngModel)]="newProduct.name" name="name" required class="form-input" />
    </div>

<div class="field-with-title horizontal">
  <label class="field-title" for="price">Price</label>
  <input 
    type="text"
    [(ngModel)]="newProduct.originalPrice"
    name="price"
    required
    maxlength="18"
    pattern="\d{1,15}(\.\d{1,2})?"
    title="Enter up to 15 digits and at most one decimal point (optional 1-2 decimals)"
    (keypress)="allowNumbersAndDot($event, newProduct.originalPrice)"
  />
</div>

<!-- Quantity -->
<div class="field-with-title horizontal">
  <label class="field-title" for="quantity">Quantity</label>
  <input 
    type="text"
    [(ngModel)]="newProduct.quantity"
    name="quantity"
    required
    maxlength="7"
    pattern="\d{1,15}"
    title="Enter up to 15 digits only"
    (keypress)="allowOnlyNumbers($event)"
  />
</div>

<!-- Size -->
<div class="field-with-title horizontal">
  <label class="field-title" for="size">Size</label>
  <input 
    type="text"
    [(ngModel)]="newProduct.size"
    name="size"
    required
    maxlength="18"
    pattern="\d{1,15}(\.\d{1,2})?"
    title="Enter up to 15 digits and at most one decimal point"
    (keypress)="allowNumbersAndDot($event, newProduct.size)"
  />
</div>

<!-- Weight -->
<div class="field-with-title horizontal">
  <label class="field-title" for="weight">Weight</label>
  <input 
    type="text"
    [(ngModel)]="newProduct.weight"
    name="weight"
    required
    maxlength="18"
    pattern="\d{1,15}(\.\d{1,2})?"
    title="Enter up to 15 digits and at most one decimal point"
    (keypress)="allowNumbersAndDot($event, newProduct.weight)"
  />
</div>
<div class="field-with-title vertical">
  <div class="title-row">
    <label class="field-title">Images</label>
    <button type="button" class="add-image-btn" (click)="fileInput.click()">+ Add image</button>
  </div>

  <input type="file" #fileInput (change)="onFileSelected($event)" multiple style="display: none;" />

  <div *ngFor="let file of imageFiles; let i = index" class="image-item">
    <img
      [src]="URL.createObjectURL(file)"
      alt="{{ file.name }}"
      class="preview-image"
    />
    <span class="file-name">{{ file.name }}</span>
    <button type="button" (click)="removeImage(i)">Remove</button>
  </div>
</div>



    <div class="field-with-title horizontal">
      <label class="field-title" for="description">Description</label>
  <textarea
    id="description"
    placeholder="Description"
    [(ngModel)]="newProduct.description"
    name="description"
    required
    class="form-input"
    rows="5"
  ></textarea>    </div>
    <!-- Selects -->
    <div class="field-with-title horizontal">
      <label class="field-title" for="brand">Brand</label>
      <select id="brand" [(ngModel)]="newProduct.brand" name="brand" required class="form-input">
        <option value="" disabled>Select Brand</option>
        <option *ngFor="let brand of ['Dryden','Rolex','iPhone','Samsung','Casio','Seiko','Citizen','Fossil','Timex','Bulova']" [value]="brand">{{ brand }}</option>
      </select>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="displayType">Display Type</label>
      <select id="displayType" [(ngModel)]="newProduct.displayType" name="displayType" required class="form-input">
        <option value="" disabled>Select Display Type</option>
        <option *ngFor="let type of ['dial', 'digital', 'analog-digital']" [value]="type">{{ type }}</option>
      </select>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="shape">Shape</label>
      <select id="shape" [(ngModel)]="newProduct.shape" name="shape" required class="form-input">
        <option value="" disabled>Select Shape</option>
        <option *ngFor="let shape of ['round', 'square', 'rectangle', 'oval']" [value]="shape">{{ shape }}</option>
      </select>
    </div>

    <!-- Colors -->
    <h4 class="section-heading">üé® Colors</h4>

    <div class="field-with-title horizontal">
      <label class="field-title" for="bandColor">Band Color</label>
      <select id="bandColor" [(ngModel)]="newProduct.bandColor" name="bandColor" class="form-input">
        <option value="" disabled>Select Band Color</option>
        <option *ngFor="let color of ['black','brown','silver','gold','blue','red','orange','white']" [value]="color">{{ color }}</option>
      </select>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="handsColor">Hands Color</label>
      <select id="handsColor" [(ngModel)]="newProduct.handsColor" name="handsColor" class="form-input">
        <option value="" disabled>Select Hands Color</option>
        <option *ngFor="let color of ['black','white','gold','silver','blue','red']" [value]="color">{{ color }}</option>
      </select>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="backgroundColor">Background Color</label>
      <select id="backgroundColor" [(ngModel)]="newProduct.backgroundColor" name="backgroundColor" class="form-input">
        <option value="" disabled>Select Background Color</option>
        <option *ngFor="let color of ['black','white','blue','red','green','silver','gold']" [value]="color">{{ color }}</option>
      </select>
    </div>

    <!-- Materials -->
    <h4 class="section-heading">üîß Materials</h4>

    <div class="field-with-title horizontal">
      <label class="field-title" for="bandMaterial">Band Material</label>
      <select id="bandMaterial" [(ngModel)]="newProduct.bandMaterial" name="bandMaterial" class="form-input">
        <option value="" disabled>Select Band Material</option>
        <option *ngFor="let material of ['leather','metal','rubber','fabric']" [value]="material">{{ material }}</option>
      </select>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="caseMaterial">Case Material</label>
      <select id="caseMaterial" [(ngModel)]="newProduct.caseMaterial" name="caseMaterial" class="form-input">
        <option value="" disabled>Select Case Material</option>
        <option *ngFor="let material of ['crystal','stainless steel','plastic','ceramic']" [value]="material">{{ material }}</option>
      </select>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="numberingFormat">Numbering Type</label>
      <select id="numberingFormat" [(ngModel)]="newProduct.numberingFormat" name="numberingFormat" class="form-input">
        <option value="" disabled>Select Numbering Type</option>
        <option *ngFor="let type of ['Latino','English','Arabic','Roman']" [value]="type">{{ type }}</option>
      </select>
    </div>

    <!-- Radios -->
    <h4 class="section-heading">‚öôÔ∏è Features</h4>

    <div class="field-with-title horizontal">
      <label  class="field-title">Waterproof</label>
      <div class="radio-row">
        <label><input type="radio" [(ngModel)]="newProduct.waterProof" name="waterProof" [value]="true" /> Yes</label>
        <label><input type="radio" [(ngModel)]="newProduct.waterProof" name="waterProof" [value]="false" /> No</label>
      </div>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title">Includes Date</label>
      <div class="radio-row">
        <label><input type="radio" [(ngModel)]="newProduct.includesDate" name="includesDate" [value]="true" /> Yes</label>
        <label><input type="radio" [(ngModel)]="newProduct.includesDate" name="includesDate" [value]="false" /> No</label>
      </div>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title">Has Full Numerals</label>
      <div class="radio-row">
        <label><input type="radio" [(ngModel)]="newProduct.hasFullNumerals" name="hasFullNumerals" [value]="true" /> Yes</label>
        <label><input type="radio" [(ngModel)]="newProduct.hasFullNumerals" name="hasFullNumerals" [value]="false" /> No</label>
      </div>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title">Ticking Sound</label>
      <div class="radio-row">
        <label><input type="radio" [(ngModel)]="newProduct.hasTickingSound" name="hasTickingSound" [value]="true" /> Yes</label>
        <label><input type="radio" [(ngModel)]="newProduct.hasTickingSound" name="hasTickingSound" [value]="false" /> No</label>
      </div>
    </div>

    <!-- Buttons -->
    <div class="button-group">
      <button type="submit" class="submit-btn fancy-btn">
        {{ mode === 'add' ? '‚ú® Add Product' : 'üíæ Update Product' }}
      </button>
      <button type="button" class="submit-btn cancel-btn" (click)="cancelAndReset(watchForm)">
        Cancel
      </button>
    </div>
  </form> 
</div> 