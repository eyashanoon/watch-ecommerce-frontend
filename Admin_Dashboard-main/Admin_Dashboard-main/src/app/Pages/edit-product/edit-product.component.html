<!-- Top Navigation Bar -->
<div class="topbar">
  <div class="topbar-left">
    <img src="/assets/logo.png" alt="Logo" width="40" />
    <h1>| La Royale Watches Store</h1>
  </div>
  <div class="topbar-links">
    <a href="#" (click)="goToProductPage(); $event.preventDefault()">Product DashBoard</a>
    <a href="tel:+970599999999">+970599999999</a>
  </div>
</div>

<!-- Edit Product Form -->
<div class="add-watch-card">
  <h3 class="form-title">‚úèÔ∏è Edit Watch</h3>

  <form (ngSubmit)="updateProduct()" #watchForm="ngForm" class="add-form">

    <!-- Basic Info -->
    <h4 class="section-heading">üìù Basic Info</h4>
    <div class="field-with-title horizontal">
      <label class="field-title" for="name">Watch Name</label>
      <input id="name" type="text" placeholder="Watch Name" [(ngModel)]="editedProduct.name" name="name" required class="form-input" />
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="price">Price</label>
      <input id="price" type="number" step="0.01" placeholder="Price" [(ngModel)]="editedProduct.price" name="price" required class="form-input" />
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="quantity">Quantity</label>
      <input id="quantity" type="number" placeholder="Quantity" [(ngModel)]="editedProduct.quantity" name="quantity" min="0" required class="form-input" />
    </div>

    <div *ngFor="let img of editedProduct.images; let i = index" class="field-with-title horizontal">
      <label class="field-title" [for]="'image' + i">Image URL {{ i + 1 }}</label>
      <input
        [id]="'image' + i"
        type="text"
        placeholder="Image URL {{ i + 1 }}"
        [(ngModel)]="editedProduct.images[i]"
        [name]="'image' + i"
        required
        class="form-input"
      />
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="description">Description</label>
      <input id="description" type="text" placeholder="Description" [(ngModel)]="editedProduct.description" name="description" required class="form-input" />
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="size">Watch Size</label>
      <input id="size" type="text" placeholder="Watch Size" [(ngModel)]="editedProduct.size" name="size" required class="form-input" />
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="wieght">Weight</label>
      <input id="wieght" type="text" placeholder="weight" [(ngModel)]="editedProduct.wieght" name="wieght" required pattern="^\d+(\.\d+)?$" title="Enter a valid wieght (e.g., 1.5)" class="form-input" />
    </div>

    <!-- Selects -->
    <div class="field-with-title horizontal">
      <label class="field-title" for="brand">Brand</label>
      <select id="brand" [(ngModel)]="editedProduct.brand" name="brand" required class="form-input">
        <option value="" disabled>Select Brand</option>
        <option *ngFor="let brand of ['Dryden','Rolex','iPhone','Samsung','Casio','Seiko','Citizen','Fossil','Timex','Bulova']" [value]="brand">{{ brand }}</option>
      </select>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="displayType">Display Type</label>
      <select id="displayType" [(ngModel)]="editedProduct.displayType" name="displayType" required class="form-input">
        <option value="" disabled>Select Display Type</option>
        <option *ngFor="let type of ['dial', 'digital', 'analog-digital']" [value]="type">{{ type }}</option>
      </select>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="shape">Shape</label>
      <select id="shape" [(ngModel)]="editedProduct.shape" name="shape" required class="form-input">
        <option value="" disabled>Select Shape</option>
        <option *ngFor="let shape of ['round', 'square', 'rectangle', 'oval']" [value]="shape">{{ shape }}</option>
      </select>
    </div>

    <!-- Colors -->
    <h4 class="section-heading">üé® Colors</h4>

    <div class="field-with-title horizontal">
      <label class="field-title" for="bandColor">Band Color</label>
      <select id="bandColor" [(ngModel)]="editedProduct.bandColor" name="bandColor" class="form-input">
        <option value="" disabled>Select Band Color</option>
        <option *ngFor="let color of ['black','brown','silver','gold','blue','red','orange','white']" [value]="color">{{ color }}</option>
      </select>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="handsColor">Hands Color</label>
      <select id="handsColor" [(ngModel)]="editedProduct.handsColor" name="handsColor" class="form-input">
        <option value="" disabled>Select Hands Color</option>
        <option *ngFor="let color of ['black','white','gold','silver','blue','red']" [value]="color">{{ color }}</option>
      </select>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="backgroundColor">Background Color</label>
      <select id="backgroundColor" [(ngModel)]="editedProduct.backgroundColor" name="backgroundColor" class="form-input">
        <option value="" disabled>Select Background Color</option>
        <option *ngFor="let color of ['black','white','blue','red','green','silver','gold']" [value]="color">{{ color }}</option>
      </select>
    </div>

    <!-- Materials -->
    <h4 class="section-heading">üîß Materials</h4>

    <div class="field-with-title horizontal">
      <label class="field-title" for="bandMaterial">Band Material</label>
      <select id="bandMaterial" [(ngModel)]="editedProduct.bandMaterial" name="bandMaterial" class="form-input">
        <option value="" disabled>Select Band Material</option>
        <option *ngFor="let material of ['leather','metal','rubber','fabric']" [value]="material">{{ material }}</option>
      </select>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="caseMaterial">Case Material</label>
      <select id="caseMaterial" [(ngModel)]="editedProduct.caseMaterial" name="caseMaterial" class="form-input">
        <option value="" disabled>Select Case Material</option>
        <option *ngFor="let material of ['crystal','stainless steel','plastic','ceramic']" [value]="material">{{ material }}</option>
      </select>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title" for="numberingType">Numbering Type</label>
      <select id="numberingType" [(ngModel)]="editedProduct.numberingType" name="numberingType" class="form-input">
        <option value="" disabled>Select Numbering Type</option>
        <option *ngFor="let type of ['Latino','English','Arabic','Roman']" [value]="type">{{ type }}</option>
      </select>
    </div>

    <!-- Radios -->
    <h4 class="section-heading">‚öôÔ∏è Features</h4>

    <div class="field-with-title horizontal">
      <label class="field-title">Waterproof</label>
      <div class="radio-row">
        <label><input type="radio" [(ngModel)]="editedProduct.waterProof" name="waterProof" value="Yes" /> Yes</label>
        <label><input type="radio" [(ngModel)]="editedProduct.waterProof" name="waterProof" value="No" /> No</label>
      </div>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title">Includes Date</label>
      <div class="radio-row">
        <label><input type="radio" [(ngModel)]="editedProduct.includesDate" name="includesDate" value="Yes" /> Yes</label>
        <label><input type="radio" [(ngModel)]="editedProduct.includesDate" name="includesDate" value="No" /> No</label>
      </div>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title">Has Full Numerals</label>
      <div class="radio-row">
        <label><input type="radio" [(ngModel)]="editedProduct.hasFullNumerals" name="hasFullNumerals" value="Yes" /> Yes</label>
        <label><input type="radio" [(ngModel)]="editedProduct.hasFullNumerals" name="hasFullNumerals" value="No" /> No</label>
      </div>
    </div>

    <div class="field-with-title horizontal">
      <label class="field-title">Ticking Sound</label>
      <div class="radio-row">
        <label><input type="radio" [(ngModel)]="editedProduct.hasTickingSound" name="hasTickingSound" value="Yes" /> Yes</label>
        <label><input type="radio" [(ngModel)]="editedProduct.hasTickingSound" name="hasTickingSound" value="No" /> No</label>
      </div>
    </div>

    <!-- Buttons -->
    <div class="button-group">
      <button type="submit" class="submit-btn fancy-btn">üíæ Save Changes</button>
      <button type="button" class="submit-btn cancel-btn" (click)="cancelEdit()">
        Cancel
      </button>
    </div>
  </form>
</div>
