<!-- Top Navigation Bar -->
<div class="topbar">
  <div class="topbar-left">
    <img src="assets/logo.png" alt="Logo" />
    <h1>| La Royale Watches Store</h1>
  </div>
  <div class="topbar-links">
    <a href="#" (click)="goToHomePage(); $event.preventDefault()">Home</a>
    <a href="#" (click)="signOut(); $event.preventDefault()">Sign Out</a>
    <a href="tel:+970599999999">+970599999999</a>
  </div>
</div>

<!-- Product Details Section -->
<div class="product-detail-container" *ngIf="products">

  <!-- Top Section: Images + Key Info -->
  <div class="product-top-section">

    <!-- Left: Image Section -->
    <div class="image-section">
      <div class="vertical-thumbnails" *ngIf="!is3DViewActive">
        <img *ngFor="let img of products.images; let i = index"
             [src]="img"
             [class.selected]="i === currentIndex"
             (click)="selectImage(i)" />
      </div>
      <div class="main-image-container" *ngIf="!is3DViewActive">
        <img [src]="products.images[currentIndex]" class="main-image" />
      </div>

      <!-- Carousel arrows -->
      <button class="carousel-arrow left" (click)="prevImage()">&#10094;</button>
      <button class="carousel-arrow right" (click)="nextImage()">&#10095;</button>
    </div>

    <!-- Right: Vertical Info -->
    <div class="product-info-panel">
      <h1 class="product-name">{{ products.name }}</h1>
      <p class="product-short-desc">{{ products.description }}</p>
      <div class="product-detail-item"><strong>Price:</strong> ${{ products.originalPrice }}</div>
      <div class="product-detail-item"><strong>Quantity:</strong> {{ products.selectedQty }}</div>
      <div class="action-buttons">
        <button (click)="editProduct()">Edit</button>
        <button (click)="deleteProduct()">Delete</button>
      </div>
    </div>

  </div>

  <!-- 3D Carousel Toggle -->
  <button class="toggle-3d-btn" (click)="toggle3DView()">
    {{ is3DViewActive ? 'Close 3D View' : 'Open 3D View' }}
  </button>

  <!-- 3D Carousel Overlay -->
  <div class="carousel-overlay" *ngIf="is3DViewActive">
    <button class="close-btn" (click)="toggle3DView()">âœ•</button>
    <button class="carousel-arrow left" (click)="prevImage()">&#10094;</button>
    <div class="carousel">
      <img #carouselImg *ngFor="let img of products.images" [src]="img" />
    </div>
    <button class="carousel-arrow right" (click)="nextImage()">&#10095;</button>
  </div>

  <!-- Bottom Section: Full Specs -->
  <div class="product-bottom-section">
    <div class="product-specs-column">
      <div class="spec-row"><strong>Brand:</strong> {{ products.brand }}</div>
      <div class="spec-row"><strong>Numbering Type:</strong> {{ products.numberingFormat }}</div>
      <div class="spec-row"><strong>Size:</strong> {{ products.size }}</div>
      <div class="spec-row"><strong>Weight:</strong> {{ products.weight }} grams</div>
      <div class="spec-row"><strong>Band Color:</strong> {{ products.bandColor }}</div>
      <div class="spec-row"><strong>Hands Color:</strong> {{ products.handsColor }}</div>
      <div class="spec-row"><strong>Background Color:</strong> {{ products.backgroundColor }}</div>
      <div class="spec-row"><strong>Band Material:</strong> {{ products.bandMaterial }}</div>
      <div class="spec-row"><strong>Case Material:</strong> {{ products.caseMaterial }}</div>
      <div class="spec-row"><strong>Display Type:</strong> {{ products.displayType }}</div>
      <div class="spec-row"><strong>Shape:</strong> {{ products.shape }}</div>
      <div class="spec-row"><strong>Waterproof:</strong> {{ products.waterProof ? 'Yes' : 'No' }}</div>
      <div class="spec-row"><strong>Includes Date:</strong> {{ products.includesDate ? 'Yes' : 'No' }}</div>
      <div class="spec-row"><strong>Full Numerals:</strong> {{ products.hasFullNumerals ? 'Yes' : 'No' }}</div>
      <div class="spec-row"><strong>Ticking Sound:</strong> {{ products.hasTickingSound ? 'Yes' : 'No' }}</div>
      <div class="spec-row"><strong>Changeable Band:</strong> {{ products.changeableBand ? 'Yes' : 'No' }}</div>
    </div>
  </div>

</div>
