<div class="home-wrapper" #homeWrapper>
  <video
    #backgroundVideo
    autoplay
    muted
    loop
    playsinline
    preload="auto"
    class="video-background"
  >
    <source src="/assets/customer_background.mp4" type="video/mp4" />
  </video>

<div class="topbar">
  <div class="topbar-left">
    <img src="assets/logo.png" alt="Logo" />
    <h1>| La Royale Watches Store</h1>
  </div>
  <div class="topbar-links">
    <a (click)="goHome()" style="cursor: pointer;">Home</a>
    <a href="#" (click)="goToSignInPage(); $event.preventDefault()">Sign In</a>
  <a href="#" (click)="goToSignUpPage(); $event.preventDefault()">Sign Up</a>

  </div>
</div>

<div class="product-section">
  <div class="product-layout">
    <!-- Filter sidebar -->
    <aside class="filter-bar">
      <h3>Filter Products</h3>

      <!-- Price Range -->
      <label>
        <span>Price Range</span>
        <input type="range" min="0" max="1500" [(ngModel)]="filters.maxPrice" />
        <small>Max: ${{ filters.maxPrice }}</small>
      </label>

          <label>
    <span>Weight Range</span>
      <input type="range" min="0" max="60" [(ngModel)]="filters.maxWeight" />
      <small>Max: {{ filters.maxWeight }}</small>
    </label>
    <label>
    <span>Size Range</span>
      <input type="range" min="0" max="45" [(ngModel)]="filters.maxSize" />
      <small>Max: {{ filters.maxSize }}</small>
    </label>

      <!-- Checkboxes -->
      <label class="checkbox-label">
        <span>Waterproof</span>
        <input type="checkbox" [(ngModel)]="filters.waterProof" />
      </label>

      <label class="checkbox-label">
        <span>Has Date</span>
        <input type="checkbox" [(ngModel)]="filters.includesDate" />
      </label>

      <label class="checkbox-label">
        <span>All Numbers</span>
        <input type="checkbox" [(ngModel)]="filters.hasFullNumerals" />
      </label>

      <label class="checkbox-label">
        <span>No Tick Sound</span>
        <input type="checkbox" [(ngModel)]="filters.hasTickingSound" />
      </label>

      <!-- Display Type (Dropdown) -->
      <div class="filter-section">
        <label>
          <span>Display Type</span>
          <select [(ngModel)]="filters.displayType">
            <option value="">Any</option>
            <option *ngFor="let t of displayTypes" [value]="t">{{ t }}</option>
          </select>
        </label>
      </div>

      <!-- Numbering Type (Dropdown) -->
      <div class="filter-section">
        <label>
          <span>Numbering Type</span>
          <select [(ngModel)]="filters.numberingType">
            <option value="">Any</option>
            <option *ngFor="let n of numberingTypes" [value]="n">{{ n }}</option>
          </select>
        </label>
      </div>

      <!-- Brand Type (Dropdown) -->
      <div class="filter-section">
        <label>
          <span>Brand Type</span>
          <select [(ngModel)]="filters.brand">
            <option value="">Any</option>
            <option *ngFor="let b of availableBrands" [value]="b">{{ b }}</option>
          </select>
        </label>
      </div>

      <!-- Band Color (Dropdown) -->
      <div class="filter-section">
        <label>
          <span>Band Color</span>
          <select [(ngModel)]="filters.bandColor">
            <option value="">Any</option>
            <option *ngFor="let c of bandColors" [value]="c">{{ c }}</option>
          </select>
        </label>
      </div>

      <!-- Hands Color (Dropdown) -->
      <div class="filter-section">
        <label>
          <span>Hands Color</span>
          <select [(ngModel)]="filters.handsColor">
            <option value="">Any</option>
            <option *ngFor="let c of handsColors" [value]="c">{{ c }}</option>
          </select>
        </label>
      </div>

      <!-- Background Color (Dropdown) -->
      <div class="filter-section">
        <label>
          <span>Background Color</span>
          <select [(ngModel)]="filters.backgroundColor">
            <option value="">Any</option>
            <option *ngFor="let c of backgroundColors" [value]="c">{{ c }}</option>
          </select>
        </label>
      </div>

      <!-- Band Material (Dropdown) -->
      <div class="filter-section">
        <label>
          <span>Band Material</span>
          <select [(ngModel)]="filters.bandMaterial">
            <option value="">Any</option>
            <option *ngFor="let m of bandMaterials" [value]="m">{{ m }}</option>
          </select>
        </label>
      </div>

      <!-- Case Material (Dropdown) -->
      <div class="filter-section">
        <label>
          <span>Case Material</span>
          <select [(ngModel)]="filters.caseMaterial">
            <option value="">Any</option>
            <option *ngFor="let m of caseMaterials" [value]="m">{{ m }}</option>
          </select>
        </label>
      </div>

      <!-- Shape (Dropdown) -->
      <div class="filter-section">
        <label>
          <span>Shape</span>
          <select [(ngModel)]="filters.shape">
            <option value="">Any</option>
            <option *ngFor="let m of shapes" [value]="m">{{ m }}</option>
          </select>
        </label>
      </div>
    </aside>
</div>
    <!-- Product display -->
    <main class="product-container">
      <input
        type="text"
        class="search-bar"
        placeholder="Search watches..."
        [(ngModel)]="searchText"
      />

      <div class="product-grid">
        <div *ngFor="let product of filteredProducts" class="product-card">
          <img
            [src]="product.images[0]"
            alt="{{ product.name }}"
            class="product-image clickable"
            (click)="goToProductDetails(product)"
          />

          <h3 class="product-name">{{ product.name }}</h3>
          <p class="product-description">{{ product.description }}</p>
          <div class="price-wrapper">
            <span class="product-price">${{ product.price }}</span>
          </div>

        </div>
      </div>
    </main>
  </div>
</div>
