<div class="home-wrapper">
  <!-- Background Video -->
  <video autoplay muted loop class="video-background">
    <source src="assets/customer_background.mp4" type="video/mp4" />
  </video>

  <div class="product-section">
    <div class="product-container">

      <h1 class="page-title animated-slide">ðŸ›’ My Cart</h1>

      <!-- Empty Cart -->
      <div *ngIf="cartItems.length === 0" class="empty-cart animated-fade">
        <h2>Your cart is empty ðŸ˜”</h2>
        <p>Add items to your cart to keep track of products you love!</p>
        <button class="browse-btn" routerLink="/product">Browse Products</button>
      </div>

      <!-- Cart List -->
      <div *ngIf="cartItems.length > 0" class="cart-list">

        <div *ngFor="let item of cartItems" class="cart-item animated-hover">
          <!-- Select Checkbox -->
          <input type="checkbox" [(ngModel)]="item.selected" class="select-checkbox" />

          <!-- Product Image -->
          <div class="cart-item-image">
            <img
              [src]="item.images[item.currentImageIndex] || 'assets/logo.png'"
              [alt]="item.productName"
              class="product-image clickable"
              (click)="navigateToProduct(item)"
            />
            <div class="carousel-controls" *ngIf="item.images.length > 1">

            </div>
          </div>

          <!-- Product Info -->
          <div class="cart-item-info">
            <h3 class="product-name clickable" (click)="navigateToProduct(item)">
              {{ item.productName }}
            </h3>

            <p class="product-brand">Brand: {{ item.brand || 'Unknown' }}</p>
            <p class="product-quantity">Quantity: {{ item.quantity || 1 }}</p>
            <p class="product-total">
              Price: {{ item.discountPrice > 0 ? ('$' + item.discountPrice) : ('$' + item.productPrice) }}
            </p>
            <p class="product-price">
              Total: ${{ ((item.discountPrice > 0 ? item.discountPrice : item.productPrice) * (item.quantity || 1)) | number:'1.2-2' }}
            </p>
          </div>

          <!-- Remove Button -->
          <div class="cart-item-actions">
            <button class="remove-btn" (click)="removeItemFromCart(item)">Remove</button>
          </div>
        </div>

        <!-- Cart Total -->
        <div class="cart-summary animated-slide">
          <p class="total-text">Total Cart: <strong>${{ getCartTotal() | number:'1.2-2' }}</strong></p>
        </div>

        <!-- Bottom Controls -->
        <div class="cart-controls-bottom">
          <label>
            <input type="checkbox" [(ngModel)]="selectAll" (change)="removeAllItemsFromCart()" />
            Select All
          </label>
          <button class="remove-btn" (click)="removeSelected()">Remove Selected</button>
          <button class="remove-btn" (click)="placeOrderSelected()">Remove Selected</button>

        </div>

      </div>
    </div>
  </div>
</div>
